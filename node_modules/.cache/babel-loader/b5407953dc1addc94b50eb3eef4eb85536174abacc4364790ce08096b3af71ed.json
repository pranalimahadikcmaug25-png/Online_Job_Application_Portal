{"ast":null,"code":"import axios from'axios';const API_URL='http://localhost:5000/api';const api=axios.create({baseURL:API_URL,headers:{'Content-Type':'application/json'}});// Request interceptor to add JWT token to headers\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});// Response interceptor to handle token expiration\napi.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){// Token expired or invalid\nlocalStorage.removeItem('token');localStorage.removeItem('user');// Redirect to login page\nwindow.location.href='/login';}return Promise.reject(error);});// Auth APIs\nexport const authAPI={register:data=>api.post('/auth/register',data),login:data=>api.post('/auth/login',data),logout:()=>api.post('/auth/logout'),getMe:()=>api.get('/auth/me'),refreshToken:()=>api.post('/auth/refresh-token'),getProfile:id=>api.get(\"/auth/profile/\".concat(id)),updateProfile:(id,data)=>api.put(\"/auth/profile/\".concat(id),data),changePassword:data=>api.put('/auth/change-password',data),getAllUsers:()=>api.get('/auth/users'),getUserStats:()=>api.get('/auth/users/stats')};// Job APIs\nexport const jobAPI={getAll:params=>api.get('/jobs',{params}),getById:id=>api.get(\"/jobs/\".concat(id)),create:data=>api.post('/jobs',data),update:(id,data)=>api.put(\"/jobs/\".concat(id),data),delete:id=>api.delete(\"/jobs/\".concat(id)),toggleActive:id=>api.patch(\"/jobs/\".concat(id,\"/toggle-active\")),getMyJobs:()=>api.get('/jobs/employer/my-jobs'),getByEmployer:employerId=>api.get(\"/jobs/employer/\".concat(employerId))};// Application APIs\nexport const applicationAPI={getAll:()=>api.get('/applications'),// Admin only\nsubmit:data=>api.post('/applications',data),getMyApplications:()=>api.get('/applications/my-applications'),getByJob:(jobId,status)=>api.get(\"/applications/job/\".concat(jobId),{params:{status}}),getByUser:userId=>api.get(\"/applications/user/\".concat(userId)),getById:id=>api.get(\"/applications/\".concat(id)),updateStatus:(id,status)=>api.patch(\"/applications/\".concat(id,\"/status\"),{status}),update:(id,data)=>api.put(\"/applications/\".concat(id),data),delete:id=>api.delete(\"/applications/\".concat(id)),getStats:()=>api.get('/applications/stats/employer')};// Saved Job APIs\nexport const savedJobAPI={save:data=>api.post('/saved-jobs',data),getMySavedJobs:()=>api.get('/saved-jobs/my-saved-jobs'),getByUser:userId=>api.get(\"/saved-jobs/user/\".concat(userId)),remove:id=>api.delete(\"/saved-jobs/\".concat(id)),removeByJobId:jobId=>api.delete(\"/saved-jobs/job/\".concat(jobId)),checkSaved:jobId=>api.get(\"/saved-jobs/check/\".concat(jobId))};export default api;","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","authAPI","register","data","post","login","logout","getMe","get","refreshToken","getProfile","id","updateProfile","put","changePassword","getAllUsers","getUserStats","jobAPI","getAll","params","getById","update","delete","toggleActive","patch","getMyJobs","getByEmployer","employerId","applicationAPI","submit","getMyApplications","getByJob","jobId","getByUser","userId","updateStatus","getStats","savedJobAPI","save","getMySavedJobs","remove","removeByJobId","checkSaved"],"sources":["C:/Users/DELL/Downloads/Online_Job_Application_Portal-main/Online_Job_Application_Portal-main/frontend/src/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:5000/api';\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor to add JWT token to headers\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor to handle token expiration\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      // Redirect to login page\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Auth APIs\nexport const authAPI = {\n  register: (data) => api.post('/auth/register', data),\n  login: (data) => api.post('/auth/login', data),\n  logout: () => api.post('/auth/logout'),\n  getMe: () => api.get('/auth/me'),\n  refreshToken: () => api.post('/auth/refresh-token'),\n  getProfile: (id) => api.get(`/auth/profile/${id}`),\n  updateProfile: (id, data) => api.put(`/auth/profile/${id}`, data),\n  changePassword: (data) => api.put('/auth/change-password', data),\n  getAllUsers: () => api.get('/auth/users'),\n  getUserStats: () => api.get('/auth/users/stats')\n};\n\n// Job APIs\nexport const jobAPI = {\n  getAll: (params) => api.get('/jobs', { params }),\n  getById: (id) => api.get(`/jobs/${id}`),\n  create: (data) => api.post('/jobs', data),\n  update: (id, data) => api.put(`/jobs/${id}`, data),\n  delete: (id) => api.delete(`/jobs/${id}`),\n  toggleActive: (id) => api.patch(`/jobs/${id}/toggle-active`),\n  getMyJobs: () => api.get('/jobs/employer/my-jobs'),\n  getByEmployer: (employerId) => api.get(`/jobs/employer/${employerId}`)\n};\n\n// Application APIs\nexport const applicationAPI = {\n  getAll: () => api.get('/applications'), // Admin only\n  submit: (data) => api.post('/applications', data),\n  getMyApplications: () => api.get('/applications/my-applications'),\n  getByJob: (jobId, status) => api.get(`/applications/job/${jobId}`, { params: { status } }),\n  getByUser: (userId) => api.get(`/applications/user/${userId}`),\n  getById: (id) => api.get(`/applications/${id}`),\n  updateStatus: (id, status) => api.patch(`/applications/${id}/status`, { status }),\n  update: (id, data) => api.put(`/applications/${id}`, data),\n  delete: (id) => api.delete(`/applications/${id}`),\n  getStats: () => api.get('/applications/stats/employer')\n};\n\n// Saved Job APIs\nexport const savedJobAPI = {\n  save: (data) => api.post('/saved-jobs', data),\n  getMySavedJobs: () => api.get('/saved-jobs/my-saved-jobs'),\n  getByUser: (userId) => api.get(`/saved-jobs/user/${userId}`),\n  remove: (id) => api.delete(`/saved-jobs/${id}`),\n  removeByJobId: (jobId) => api.delete(`/saved-jobs/job/${jobId}`),\n  checkSaved: (jobId) => api.get(`/saved-jobs/check/${jobId}`)\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}