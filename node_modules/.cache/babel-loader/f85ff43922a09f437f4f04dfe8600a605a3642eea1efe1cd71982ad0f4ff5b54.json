{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{Container,Row,Col,Button,Spinner,Table,ButtonGroup}from'react-bootstrap';import{jobAPI}from'../api';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ManageJobs(){const{user,isEmployer}=useAuth();const navigate=useNavigate();const[jobs,setJobs]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{if(!user||!isEmployer){navigate('/login');return;}fetchJobs();},[user,isEmployer]);const fetchJobs=async()=>{try{const response=await jobAPI.getByEmployer(user.id);setJobs(response.data);}catch(error){console.error('Error fetching jobs:',error);}finally{setLoading(false);}};const handleToggleActive=async jobId=>{try{await jobAPI.toggleActive(jobId);fetchJobs();}catch(error){console.error('Error toggling job status:',error);}};const handleDelete=async jobId=>{if(!window.confirm('Are you sure you want to delete this job?'))return;try{await jobAPI.delete(jobId);fetchJobs();}catch(error){console.error('Error deleting job:',error);}};if(loading){return/*#__PURE__*/_jsx(Container,{fluid:true,className:\"container-smash my-5 text-center\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})});}return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"container-smash my-4\",children:[/*#__PURE__*/_jsxs(Row,{className:\"align-items-center mb-4\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold\",children:\"Manage Jobs\"})}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",children:/*#__PURE__*/_jsx(Link,{to:\"/post-job\",children:/*#__PURE__*/_jsx(Button,{style:{background:'linear-gradient(135deg, #4078FF 0%, #3461E0 100%)',border:'none',borderRadius:'10px'},children:\"Post New Job\"})})})]}),jobs.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"glass p-5 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'4rem'},className:\"mb-3\",children:\"\\uD83D\\uDCED\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"fw-bold mb-2\",children:\"No jobs posted yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-3\",children:\"Start by posting your first job\"}),/*#__PURE__*/_jsx(Link,{to:\"/post-job\",children:/*#__PURE__*/_jsx(Button,{className:\"btn btn-primary\",children:\"Post a Job\"})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"glass p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Job Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Posted\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Applications\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:jobs.map(job=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:job.title})}),/*#__PURE__*/_jsx(\"td\",{children:job.location}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-light text-dark\",children:job.jobType})}),/*#__PURE__*/_jsx(\"td\",{children:new Date(job.postedAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(job.isActive?'bg-success':'bg-secondary'),children:job.isActive?'Active':'Inactive'})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/applications/\".concat(job.id),className:\"text-decoration-none\",children:\"View Applications\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{size:\"sm\",children:[/*#__PURE__*/_jsx(Link,{to:\"/jobs/\".concat(job.id),children:/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",children:\"View\"})}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:()=>handleToggleActive(job.id),children:job.isActive?'Deactivate':'Activate'}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:()=>handleDelete(job.id),children:\"Delete\"})]})})]},job.id))})]})})})]});}export default ManageJobs;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Container","Row","Col","Button","Spinner","Table","ButtonGroup","jobAPI","useAuth","jsx","_jsx","jsxs","_jsxs","ManageJobs","user","isEmployer","navigate","jobs","setJobs","loading","setLoading","fetchJobs","response","getByEmployer","id","data","error","console","handleToggleActive","jobId","toggleActive","handleDelete","window","confirm","delete","fluid","className","children","animation","role","xs","to","style","background","border","borderRadius","length","fontSize","map","job","title","location","jobType","Date","postedAt","toLocaleDateString","concat","isActive","size","variant","onClick"],"sources":["C:/Users/DELL/Downloads/Online_Job_Application_Portal-main/Online_Job_Application_Portal-main/frontend/src/pages/ManageJobs.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Container, Row, Col, Button, Spinner, Table, ButtonGroup } from 'react-bootstrap';\nimport { jobAPI } from '../api';\nimport { useAuth } from '../contexts/AuthContext';\n\nfunction ManageJobs() {\n  const { user, isEmployer } = useAuth();\n  const navigate = useNavigate();\n  const [jobs, setJobs] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!user || !isEmployer) {\n      navigate('/login');\n      return;\n    }\n    fetchJobs();\n  }, [user, isEmployer]);\n\n  const fetchJobs = async () => {\n    try {\n      const response = await jobAPI.getByEmployer(user.id);\n      setJobs(response.data);\n    } catch (error) {\n      console.error('Error fetching jobs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleToggleActive = async (jobId) => {\n    try {\n      await jobAPI.toggleActive(jobId);\n      fetchJobs();\n    } catch (error) {\n      console.error('Error toggling job status:', error);\n    }\n  };\n\n  const handleDelete = async (jobId) => {\n    if (!window.confirm('Are you sure you want to delete this job?')) return;\n\n    try {\n      await jobAPI.delete(jobId);\n      fetchJobs();\n    } catch (error) {\n      console.error('Error deleting job:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Container fluid className=\"container-smash my-5 text-center\">\n        <Spinner animation=\"border\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </Spinner>\n      </Container>\n    );\n  }\n\n  return (\n    <Container fluid className=\"container-smash my-4\">\n      <Row className=\"align-items-center mb-4\">\n        <Col>\n          <h2 className=\"fw-bold\">Manage Jobs</h2>\n        </Col>\n        <Col xs=\"auto\">\n          <Link to=\"/post-job\">\n            <Button\n              style={{\n                background: 'linear-gradient(135deg, #4078FF 0%, #3461E0 100%)',\n                border: 'none',\n                borderRadius: '10px'\n              }}\n            >\n              Post New Job\n            </Button>\n          </Link>\n        </Col>\n      </Row>\n\n      {jobs.length === 0 ? (\n        <div className=\"glass p-5 text-center\">\n          <div style={{fontSize: '4rem'}} className=\"mb-3\">ðŸ“­</div>\n          <h4 className=\"fw-bold mb-2\">No jobs posted yet</h4>\n          <p className=\"text-muted mb-3\">Start by posting your first job</p>\n          <Link to=\"/post-job\">\n            <Button className=\"btn btn-primary\">Post a Job</Button>\n          </Link>\n        </div>\n      ) : (\n        <div className=\"glass p-4\">\n          <div className=\"table-responsive\">\n            <Table>\n              <thead>\n                <tr>\n                  <th>Job Title</th>\n                  <th>Location</th>\n                  <th>Type</th>\n                  <th>Posted</th>\n                  <th>Status</th>\n                  <th>Applications</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {jobs.map((job) => (\n                  <tr key={job.id}>\n                    <td>\n                      <strong>{job.title}</strong>\n                    </td>\n                    <td>{job.location}</td>\n                    <td><span className=\"badge bg-light text-dark\">{job.jobType}</span></td>\n                    <td>{new Date(job.postedAt).toLocaleDateString()}</td>\n                    <td>\n                      <span className={`badge ${job.isActive ? 'bg-success' : 'bg-secondary'}`}>\n                        {job.isActive ? 'Active' : 'Inactive'}\n                      </span>\n                    </td>\n                    <td>\n                      <Link to={`/applications/${job.id}`} className=\"text-decoration-none\">\n                        View Applications\n                      </Link>\n                    </td>\n                    <td>\n                      <ButtonGroup size=\"sm\">\n                        <Link to={`/jobs/${job.id}`}>\n                          <Button variant=\"outline-primary\">\n                            View\n                          </Button>\n                        </Link>\n                        <Button\n                          variant=\"outline-secondary\"\n                          onClick={() => handleToggleActive(job.id)}\n                        >\n                          {job.isActive ? 'Deactivate' : 'Activate'}\n                        </Button>\n                        <Button\n                          variant=\"outline-danger\"\n                          onClick={() => handleDelete(job.id)}\n                        >\n                          Delete\n                        </Button>\n                      </ButtonGroup>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </Table>\n          </div>\n        </div>\n      )}\n    </Container>\n  );\n}\n\nexport default ManageJobs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}